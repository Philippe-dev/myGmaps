$(()=>{if(document.getElementById&&document.getElementById("map_canvas")){function e(e){return e.replace(/^\s+/g,"").replace(/\s+$/g,"")}function t(e){const t=new RegExp("^(http(s)://)[a-zA-Z0-9.-]*[a-zA-Z0-9/_-]","g");return t.test(e)}function o(){k.length=0;const e=f.getLength();for(let t=0;t<e;t++)k.push(`${f.getAt(t).lat()}|${f.getAt(t).lng()}`);G=k.join("\n"),G=`${G}\n${u.strokeWeight}`+"|"+u.strokeOpacity+"|"+u.strokeColor,$("#element_type").val("polyline"),$("#post_excerpt").val(G)}function s(){k.length=0;const e=w.getLength();for(let t=0;t<e;t++)k.push(`${w.getAt(t).lat()}|${w.getAt(t).lng()}`);G=k.join("\n"),G=`${G}\n${y.strokeWeight}`+"|"+y.strokeOpacity+"|"+y.strokeColor+"|"+y.fillColor+"|"+y.fillOpacity,$("#element_type").val("polygon"),$("#post_excerpt").val(G)}function l(){const e=h.getBounds(),t=e.getNorthEast(),o=e.getSouthWest(),s=new google.maps.LatLng(t.lat(),o.lng()),l=new google.maps.LatLng(o.lat(),t.lng());G=`${l.lat()}|${s.lng()}|${s.lat()}|${l.lng()}`,G=`${G}\n${h.strokeWeight}`+"|"+h.strokeOpacity+"|"+h.strokeColor+"|"+h.fillColor+"|"+h.fillOpacity,$("#element_type").val("rectangle"),$("#post_excerpt").val(G)}function a(){const e=b.getCenter(),t=b.getRadius();G=`${e.lat()}|${e.lng()}|${t}`,G=`${G}\n${b.strokeWeight}`+"|"+b.strokeOpacity+"|"+b.strokeColor+"|"+b.fillColor+"|"+b.fillOpacity,$("#element_type").val("circle"),$("#post_excerpt").val(G)}if($(".map_toolbar button").on("click",function(){"delete_map"==$(this).attr("id")?ee():""==$("#post_excerpt").val()&&($(".map_toolbar button").each(function(){$(this).removeClass("active")}),$(this).addClass("active"))}),""==$("input[name=myGmaps_center]").val())var i=new google.maps.LatLng(43.0395797336425,6.126280043989323),n="12",r="roadmap";else{var p=$("input[name=myGmaps_center]").val().split(","),c=parseFloat(e(p[0])),g=parseFloat(e(p[1]));i=new google.maps.LatLng(c,g),n=$("input[name=myGmaps_zoom]").val(),r=$("input[name=myGmaps_type]").val()}const te=[google.maps.MapTypeId.ROADMAP,google.maps.MapTypeId.HYBRID,google.maps.MapTypeId.SATELLITE,google.maps.MapTypeId.TERRAIN,"OpenStreetMap","neutral_blue"],oe=$("#map_styles_list").val(),se=oe.split(",");for(S in se)d=se[S].replace("_styles.js",""),te.push(d);const le={zoom:parseFloat(n),center:i,scrollwheel:!1,mapTypeControl:!0,overviewMapControl:!0,streetViewControl:!1,mapTypeControlOptions:{mapTypeIds:te}},ae=new google.maps.Map(document.getElementById("map_canvas"),le),ie='<a href="https://www.openstreetmap.org/copyright">Â© OpenStreetMap Contributors</a>',ne=document.createElement("div");for(S in ne.id="credit-control",ne.index=0,"roadmap"==r?ae.setOptions({mapTypeId:google.maps.MapTypeId.ROADMAP}):"satellite"==r?ae.setOptions({mapTypeId:google.maps.MapTypeId.SATELLITE}):"hybrid"==r?ae.setOptions({mapTypeId:google.maps.MapTypeId.HYBRID}):"terrain"==r?ae.setOptions({mapTypeId:google.maps.MapTypeId.TERRAIN}):"OpenStreetMap"==r?(ae.setOptions({mapTypeId:"OpenStreetMap"}),ae.controls[google.maps.ControlPosition.BOTTOM_RIGHT].push(ne),ne.innerHTML=ie):ae.setOptions({mapTypeId:r}),ae.mapTypes.set("neutral_blue",neutral_blue),ae.mapTypes.set("OpenStreetMap",new google.maps.ImageMapType({getTileUrl:(e,t)=>`https://tile.openstreetmap.org/${t}/${e.x}/${e.y}.png`,tileSize:new google.maps.Size(256,256),name:"OpenStreetMap",maxZoom:18})),te)if(!(S<6)){var d=window[te[S]];ae.mapTypes.set(te[S],d)}function m(){const e=document.getElementById("address").value;geocoder.geocode({address:e,partialmatch:!0},_)}function _(e,t){"OK"==t&&e.length>0?ae.fitBounds(e[0].geometry.viewport):alert(`Geocode was not successful for the following reason: ${t}`)}geocoder=new google.maps.Geocoder,$("#geocode").on("click",()=>(m(),!1));var u,v=[],k=[];const re={strokeColor:"#555",strokeOpacity:.8,strokeWeight:3,draggable:!0,editable:!0};u=new google.maps.Polyline(re);var y,f=u.getPath();const pe={strokeColor:"#555",strokeOpacity:.8,strokeWeight:3,fillColor:"#ccc",fillOpacity:.35,draggable:!0,editable:!0};y=new google.maps.Polygon(pe);var h,w=y.getPath();const ce={strokeColor:"#555",strokeOpacity:.8,strokeWeight:3,fillColor:"#ccc",fillOpacity:.35,draggable:!0,editable:!0};var b;h=new google.maps.Rectangle(ce);const ge={strokeColor:"#555",strokeOpacity:.8,strokeWeight:3,fillColor:"#ccc",fillOpacity:.35,center:i,draggable:!0,editable:!0,radius:1e3};var O,x;b=new google.maps.Circle(ge),O=new google.maps.KmlLayer({}),x=new google.maps.KmlLayer({});const de=new google.maps.DirectionsService;var C,L={strokeColor:"#555",strokeOpacity:.8,strokeWeight:3},M={polylineOptions:L},F=new google.maps.DirectionsRenderer(M);const me={strokeColor:"#555",strokeOpacity:0,strokeWeight:20,zIndex:1};C=new google.maps.Polyline(me);var I=C.getPath();const _e=document.getElementById("address");new google.maps.places.Autocomplete(_e);function T(e,t){let o;return function(){const s=arguments,l=()=>e.apply(this,s);clearTimeout(o),o=setTimeout(l,t)}}google.maps.event.addListener(ae,"click",e=>{z.close();let t="none";const o=$(".map_toolbar button.active").length>0;$(".map_toolbar button").each(function(){$(this).hasClass("active")?t=$(this).attr("id"):o&&$(this).addClass("inactive")}),"add_marker"==t?""==$("#post_excerpt").val()&&Z(e.latLng):"add_polyline"==t?N(e.latLng):"add_polygon"==t?U(e.latLng):"add_kml"==t?""==$("#post_excerpt").val()&&q(e.latLng):"add_georss"==t?""==$("#post_excerpt").val()&&J(e.latLng):"add_rectangle"==t?""==$("#post_excerpt").val()&&Y(e.latLng):"add_circle"==t?""==$("#post_excerpt").val()&&Q(e.latLng):"add_directions"==t&&""==$("#post_excerpt").val()&&X(e.latLng)}),google.maps.event.addListener(ae,"maptypeid_changed",()=>{"OpenStreetMap"==ae.getMapTypeId()?(ae.controls[google.maps.ControlPosition.BOTTOM_RIGHT].push(ne),ne.innerHTML=ie):ae.controls[google.maps.ControlPosition.BOTTOM_RIGHT].clear(ne)}),google.maps.event.addListener(u,"rightclick",e=>{null!=e.vertex&&u.getPath().removeAt(e.vertex)}),google.maps.event.addListener(f,"insert_at",T(()=>{o()},250)),google.maps.event.addListener(f,"remove_at",T(()=>{o()},250)),google.maps.event.addListener(f,"set_at",T(()=>{o()},250)),google.maps.event.addListener(u,"click",function(e){const t='<div id="infowindow_polyline" class="col"><p><label for="stroke_color">'+stroke_color_msg+'</label><input type="text" id="stroke_color" size="10" class="colorpicker" value="'+this.strokeColor+'" /></p><p><label for="stroke_opacity">'+stroke_opacity_msg+'</label><input type="text" id="stroke_opacity" size="10" value="'+this.strokeOpacity+'" /></p><p><label for="stroke_weight">'+stroke_weight_msg+'</label><input type="text" id="stroke_weight" size="10" value="'+this.strokeWeight+'" /></p><p><input type="button" id="save" value="OK" /></p></div>';z.setPosition(e.latLng),z.setContent(t),z.open(ae)}),google.maps.event.addListener(y,"rightclick",e=>{null!=e.vertex&&y.getPath().removeAt(e.vertex)}),google.maps.event.addListener(w,"insert_at",T(()=>{s()},250)),google.maps.event.addListener(w,"remove_at",T(()=>{s()},250)),google.maps.event.addListener(w,"set_at",T(()=>{s()},250)),google.maps.event.addListener(y,"click",function(e){const t='<div id="infowindow_polygon"><div class="two-boxes"<p><label for="stroke_color">'+stroke_color_msg+'</label><input type="text" id="stroke_color" size="10" class="colorpicker" value="'+this.strokeColor+'" /></p><p><label for="stroke_opacity">'+stroke_opacity_msg+'</label><input type="text" id="stroke_opacity" size="10" value="'+this.strokeOpacity+'" /></p><p><label for="stroke_weight">'+stroke_weight_msg+'</label><input type="text" id="stroke_weight" size="10" value="'+this.strokeWeight+'" /></p></div><div class="two-boxes"<p><label for="fill_color">'+fill_color_msg+'</label><input type="text" id="fill_color" size="10" value="'+this.fillColor+'" /></p><p><label for="fill_opacity">'+fill_opacity_msg+'</label><input type="text" id="fill_opacity" size="10" value="'+this.fillOpacity+'" /></p></div><p><input type="button" id="save" value="OK" /></p></div>';z.setPosition(e.latLng),z.setContent(t),z.open(ae)}),google.maps.event.addListener(h,"bounds_changed",T(()=>{l()},250)),google.maps.event.addListener(h,"dragend",T(()=>{l()},250)),google.maps.event.addListener(h,"click",function(e){const t='<div id="infowindow_rectangle"><div class="two-boxes"<p><label for="stroke_color">'+stroke_color_msg+'</label><input type="text" id="stroke_color" size="10" class="colorpicker" value="'+this.strokeColor+'" /></p><p><label for="stroke_opacity">'+stroke_opacity_msg+'</label><input type="text" id="stroke_opacity" size="10" value="'+this.strokeOpacity+'" /></p><p><label for="stroke_weight">'+stroke_weight_msg+'</label><input type="text" id="stroke_weight" size="10" value="'+this.strokeWeight+'" /></p></div><div class="two-boxes"<p><label for="fill_color">'+fill_color_msg+'</label><input type="text" id="fill_color" size="10" value="'+this.fillColor+'" /></p><p><label for="fill_opacity">'+fill_opacity_msg+'</label><input type="text" id="fill_opacity" size="10" value="'+this.fillOpacity+'" /></p></div><p><input type="button" id="save" value="OK" /></p></div>';z.setPosition(e.latLng),z.setContent(t),z.open(ae)}),google.maps.event.addListener(b,"center_changed",T(()=>{a()},250)),google.maps.event.addListener(b,"radius_changed",T(()=>{a()},250)),google.maps.event.addListener(b,"click",function(e){const t='<div id="infowindow_circle"><div class="two-boxes"<p><label for="stroke_color">'+stroke_color_msg+'</label><input type="text" id="stroke_color" size="10" class="colorpicker" value="'+this.strokeColor+'" /></p><p><label for="stroke_opacity">'+stroke_opacity_msg+'</label><input type="text" id="stroke_opacity" size="10" value="'+this.strokeOpacity+'" /></p><p><label for="stroke_weight">'+stroke_weight_msg+'</label><input type="text" id="stroke_weight" size="10" value="'+this.strokeWeight+'" /></p></div><div class="two-boxes"<p><label for="fill_color">'+fill_color_msg+'</label><input type="text" id="fill_color" size="10" value="'+this.fillColor+'" /></p><p><label for="fill_opacity">'+fill_opacity_msg+'</label><input type="text" id="fill_opacity" size="10" value="'+this.fillOpacity+'" /></p><p><label for="circle_radius">'+circle_radius_msg+'</label><input type="text" id="circle_radius" size="10" value="'+this.radius+'" /></p></div><p><input type="button" id="save" value="OK" /></p></div>';z.setPosition(e.latLng),z.setContent(t),z.open(ae)}),google.maps.event.addListener(O,"click",e=>{const t=[];if(""!=$("#kmls_list").val()){$("#kmls_base_url").val();const e=$("#kmls_list").val(),o=e.split(",");for(S in o)this_kml=`<li>${o[S]}</li>`,t.push(this_kml)}let o=t.join();if(o=`<ul>${o.replace(/\,/g,"")}</ul>`,""!=t)var s=`<h4>${custom_kmls_msg}</h4>`+'<div style="max-height: 100px;overflow: auto">'+o+"</div><hr />";else s="";const l='<div id="infowindow_kml" style="cursor: pointer">'+s+"<h4>"+kml_url_msg+'</h4><p><input type="text" id="kml_url" size="80" value="'+$("#post_excerpt").val()+'" /></p><p><input type="button" id="save" value="OK" /></p></div>';z.setPosition(e.latLng),z.setContent(l),z.open(ae)}),google.maps.event.addListener(x,"click",e=>{const t='<div id="infowindow_georss" style="cursor: pointer"><h4>'+geoRss_url_msg+'</h4><p><input type="text" id="geoRss_url" size="80" value="'+$("#post_excerpt").val()+'" /></p><p><input type="button" id="save" value="OK" /></p></div>';z.setPosition(e.latLng),z.setContent(t),z.open(ae)}),google.maps.event.addListener(C,"click",e=>{const t=G.split("|"),o=t[0],s=t[1],l=t[2],a=t[3],i=t[4],n=t[5];if("true"==n)var r='checked = "checked"';else r="";const p='<div id="infowindow_directions" style="cursor: pointer"><div class="two-cols clearfix"><div class="col70"><p><label for="directions_start">'+directions_start_msg+'</label><input type="text" id="directions_start" size="40" value="'+o+'" /></p><p><label for="directions_end">'+directions_end_msg+'</label><input type="text" id="directions_end" size="40" value="'+s+'" /></p><p><label for="directions_show"><input type="checkbox" id="directions_show" '+r+" />"+directions_show_msg+'</label></p></div><div class="col30"><p><label for="stroke_color">'+stroke_color_msg+'</label><input type="text" id="stroke_color" size="10" class="colorpicker" value="'+i+'" /><p><label for="stroke_opacity">'+stroke_opacity_msg+'</label><input type="text" id="stroke_opacity" size="10" value="'+a+'" /><p><label for="stroke_weight">'+stroke_weight_msg+'</label><input type="text" id="stroke_weight" size="10" value="'+l+'" /></div></div><p><input type="button" id="save" value="OK" /></div>';z.setPosition(e.latLng),z.setContent(p),z.open(ae);const c=document.getElementById("directions_start");new google.maps.places.Autocomplete(c);const g=document.getElementById("directions_end");new google.maps.places.Autocomplete(g)});var z=new google.maps.InfoWindow({});const ue=[];if(""!=$("#icons_list").val()){const e=$("#icons_base_url").val(),t=$("#icons_list").val(),o=t.split(",");for(S in o){const t=`<img src="${e}${o[S]}" alt="${o[S]}" />`;ue.push(t)}}let ve=ue.join();ve=ve.replace(/\,/g,"");var W=$("#plugin_QmarkURL").val();if(""!=ve)var P=`<h4>${custom_icons_msg}</h4>`+'<div id="custom_icons_list">'+ve+"</div><hr />";else P="";var R='<div id="infowindow_icons" style="cursor: pointer">'+P+'<div id="default_icons_list"><h4>'+default_icons_msg+'</h4><img src="'+W+'pf=myGmaps/icons/marker-blue.png" alt="marker-blue.png"  /><img src="'+W+'pf=myGmaps/icons/marker-green.png" alt="marker-green.png"  /><img src="'+W+'pf=myGmaps/icons/marker-grey.png" alt="marker-grey.png"  /><img src="'+W+'pf=myGmaps/icons/marker-orange.png" alt="marker-orange.png"  /><img src="'+W+'pf=myGmaps/icons/marker-purple.png" alt="marker-purple.png"  /><img src="'+W+'pf=myGmaps/icons/marker-yellow.png" alt="marker-yellow.png"  /><img src="'+W+'pf=myGmaps/icons/marker.png" alt="marker.png"  />&nbsp;</div></div>';$(document).on("click","#infowindow_icons img",function(){let e=$("#post_excerpt").val();const t=e.split("|");parseFloat(t[0]),parseFloat(t[1]);marker.setIcon($(this).attr("src"));const o=$(this).attr("src");e=`${marker.position.lat()}|${marker.position.lng()}|${o}`,$("#post_excerpt").val(e),z.close()}),$(document).on("click","#infowindow_polyline #save",()=>{const e=$("#stroke_color").val(),t=$("#stroke_opacity").val(),s=$("#stroke_weight").val();u.setOptions({strokeColor:e,strokeOpacity:parseFloat(t),strokeWeight:parseFloat(s)}),o(),z.close()}),$(document).on("click","#infowindow_polygon #save",()=>{const e=$("#stroke_color").val(),t=$("#stroke_opacity").val(),o=$("#stroke_weight").val(),l=$("#fill_color").val(),a=$("#fill_opacity").val();y.setOptions({strokeColor:e,strokeOpacity:parseFloat(t),strokeWeight:parseFloat(o),fillColor:l,fillOpacity:parseFloat(a)}),s(),z.close()}),$(document).on("click","#infowindow_rectangle #save",()=>{const e=$("#stroke_weight").val(),t=$("#stroke_opacity").val(),o=$("#stroke_color").val(),s=$("#fill_color").val(),a=$("#fill_opacity").val();h.setOptions({strokeColor:o,strokeOpacity:parseFloat(t),strokeWeight:parseFloat(e),fillColor:s,fillOpacity:parseFloat(a)}),l(),z.close()}),$(document).on("click","#infowindow_circle #save",()=>{const e=$("#stroke_weight").val(),t=$("#stroke_opacity").val(),o=$("#stroke_color").val(),s=$("#fill_color").val(),l=$("#fill_opacity").val(),i=$("#circle_radius").val();b.setOptions({strokeColor:o,strokeOpacity:parseFloat(t),strokeWeight:parseFloat(e),fillColor:s,fillOpacity:parseFloat(l),radius:parseFloat(i)}),a(),z.close()}),$(document).on("click","#infowindow_kml li",function(){const e=$("#kmls_base_url").val()+$(this).text();$("#kml_url").val(e).focus()}),$(document).on("click","#infowindow_kml #save",()=>{O.setMap(null);const e=$("#kml_url").val();null!=e&&""!=e&&t(e)&&(O.setOptions({url:e,preserveViewport:!0,suppressInfoWindows:!0}),$("#element_type").val("included kml file"),$("#post_excerpt").val(e)),O.setMap(ae),z.close()}),$(document).on("click","#infowindow_georss #save",()=>{x.setMap(null);const e=$("#geoRss_url").val();null!=e&&""!=e&&t(e)&&(x.setOptions({url:e,preserveViewport:!0,suppressInfoWindows:!0}),$("#element_type").val("GeoRSS feed"),$("#post_excerpt").val(e)),x.setMap(ae),z.close()}),$(document).on("click","#infowindow_directions #save",()=>{const e=$("#directions_start").val(),t=$("#directions_end").val(),o=$("#directions_show").prop("checked"),s=$("#stroke_color").val(),l=$("#stroke_opacity").val(),a=$("#stroke_weight").val(),i={strokeColor:s,strokeOpacity:l,strokeWeight:a},n={polylineOptions:i},r={origin:e,destination:t,travelMode:google.maps.TravelMode.DRIVING};de.route(r,(e,t)=>{if(t==google.maps.DirectionsStatus.OK){const t=e.routes[0].overview_path;C.setPath(t),F.setOptions({options:n}),F.setDirections(e),F.setMap(ae)}}),G=`${e}|${t}|${a}`+"|"+l+"|"+s+"|"+o,$("#element_type").val("directions"),$("#post_excerpt").val(G),F.setMap(ae),C.setMap(ae),z.close()});var G=$("#post_excerpt").val();const ke=$("input[name=element_type]").val();if("point of interest"==ke){p=G.split("|"),c=parseFloat(p[0]),g=parseFloat(p[1]);const e=p[2];var A=new google.maps.LatLng(c,g);marker=new google.maps.Marker({position:A,draggable:!0,icon:e,map:ae}),v.push(marker),$("#add_marker").addClass("active"),z.setContent(R),google.maps.event.addListener(marker,"click",function(){z.open(ae,this)}),google.maps.event.addListener(marker,"dragend",()=>{G=`${marker.position.lat()}|${marker.position.lng()}|${e}`,$("#post_excerpt").val(G)})}else if("polyline"==ke){for(var B=G.split("\n"),S=0;S<B.length-1;S++){p=B[S].split("|"),c=parseFloat(p[0]),g=parseFloat(p[1]),A=new google.maps.LatLng(c,g);f.push(A)}const e=B.pop();p=e.split("|");var E=parseFloat(p[0]),K=parseFloat(p[1]),D=p[2];u.setOptions({strokeColor:D,strokeOpacity:parseFloat(K),strokeWeight:parseFloat(E)}),f=u.getPath(),u.setMap(ae),$("#add_polyline").addClass("active")}else if("polygon"==ke){for(B=G.split("\n"),S=0;S<B.length-1;S++){p=B[S].split("|"),c=parseFloat(p[0]),g=parseFloat(p[1]),A=new google.maps.LatLng(c,g);w.push(A)}const e=B.pop();p=e.split("|"),E=parseFloat(p[0]),K=parseFloat(p[1]),D=p[2];var H=p[3],V=parseFloat(p[4]);y.setOptions({strokeColor:D,strokeOpacity:parseFloat(K),strokeWeight:parseFloat(E),fillColor:H,fillOpacity:parseFloat(V)}),w=y.getPath(),y.setMap(ae),$("#add_polygon").addClass("active")}else if("rectangle"==ke){B=G.split("\n"),p=B[0].split("|");const e=parseFloat(p[0]),t=parseFloat(p[1]),o=parseFloat(p[2]),s=parseFloat(p[3]);bounds=new google.maps.LatLngBounds(new google.maps.LatLng(e,t),new google.maps.LatLng(o,s)),h.setBounds(bounds);var j=B[1].split("|");E=parseFloat(j[0]),K=parseFloat(j[1]),D=j[2],H=j[3],V=parseFloat(j[4]);h.setOptions({strokeColor:D,strokeOpacity:parseFloat(K),strokeWeight:parseFloat(E),fillColor:H,fillOpacity:parseFloat(V)}),$("#add_rectangle").addClass("active"),h.setMap(ae)}else if("circle"==ke){B=G.split("\n"),p=B[0].split("|"),c=parseFloat(p[0]),g=parseFloat(p[1]);const e=parseFloat(p[2]);A=new google.maps.LatLng(c,g),j=B[1].split("|"),E=parseFloat(j[0]),K=parseFloat(j[1]),D=j[2],H=j[3],V=parseFloat(j[4]);b.setOptions({strokeColor:D,strokeOpacity:parseFloat(K),strokeWeight:parseFloat(E),fillColor:H,fillOpacity:parseFloat(V),center:A,radius:parseFloat(e)}),$("#add_circle").addClass("active"),b.setMap(ae)}else if("included kml file"==ke)O.setOptions({url:G,preserveViewport:!0,suppressInfoWindows:!0}),$("#add_kml").addClass("active"),O.setMap(ae);else if("GeoRSS feed"==ke)x.setOptions({url:G,preserveViewport:!0,suppressInfoWindows:!0}),$("#add_georss").addClass("active"),x.setMap(ae);else if("directions"==ke){p=G.split("|");const e=p[0],t=p[1];E=p[2],K=p[3],D=p[4],L={strokeColor:D,strokeOpacity:K,strokeWeight:E},M={polylineOptions:L};const o={origin:e,destination:t,travelMode:google.maps.TravelMode.DRIVING};de.route(o,(e,t)=>{if(t==google.maps.DirectionsStatus.OK){const t=e.routes[0].overview_path;C.setPath(t),F.setOptions({options:M}),F.setDirections(e),F.setMap(ae)}}),$("#add_directions").addClass("active"),C.setMap(ae)}function Z(e){marker=new google.maps.Marker({position:e,icon:`${W}pf=myGmaps/icons/marker.png`,draggable:!0,map:ae}),v.push(marker),z.setContent(R),google.maps.event.addListener(marker,"click",function(){z.open(ae,this)}),google.maps.event.addListener(marker,"dragend",()=>{G=`${marker.position.lat()}|${marker.position.lng()}|${marker.icon}`,$("#post_excerpt").val(G)}),G=`${marker.position.lat()}|${marker.position.lng()}|${marker.icon}`,$("#element_type").val("point of interest"),$("#post_excerpt").val(G)}function N(e){f.push(e),u.setMap(ae),o()}function U(e){w.push(e),y.setMap(ae),s()}function Y(e){const t=2**ae.getZoom();h.setBounds(new google.maps.LatLngBounds(new google.maps.LatLng((e.lat()*t-50)/t,(e.lng()*t-75)/t),new google.maps.LatLng((e.lat()*t+50)/t,(e.lng()*t+75)/t))),h.setMap(ae),l()}function Q(e){const t=2**(10*Math.PI-ae.getZoom()),o=t/500;b.setOptions({radius:o,center:e}),b.setMap(ae),a()}function q(e){const t=[];if(""!=$("#kmls_list").val()){$("#kmls_base_url").val();const e=$("#kmls_list").val(),o=e.split(",");for(S in o)this_kml=`<li>${o[S]}</li>`,t.push(this_kml)}let o=t.join();if(o=`<ul>${o.replace(/\,/g,"")}</ul>`,""!=t)var s=`<h4>${custom_kmls_msg}</h4>`+'<div style="max-height: 100px;overflow: auto">'+o+"</div><hr />";else s="";const l='<div id="infowindow_kml" style="cursor: pointer">'+s+"<h4>"+kml_url_msg+'</h4><p><input type="text" id="kml_url" size="80" value="'+$("#post_excerpt").val()+'" /></p><p><input type="button" id="save" value="OK" /></p></div>';z.setPosition(e),z.setContent(l),z.open(ae)}function J(e){const t='<div id="infowindow_georss" style="cursor: pointer"><h4>'+geoRss_url_msg+'</h4><p><input type="text" id="geoRss_url" size="80" value="'+$("#post_excerpt").val()+'" /></p><p><input type="button" id="save" value="OK" /></p></div>';z.setPosition(e),z.setContent(t),z.open(ae)}function X(e){const t="#555",o=.8,s=3,l='<div id="infowindow_directions" style="cursor: pointer"><div class="two-cols clearfix"><div class="col70"><p><label for="directions_start">'+directions_start_msg+'</label><input type="text" id="directions_start" size="40" value="" /></p><p><label for="directions_end">'+directions_end_msg+'</label><input type="text" id="directions_end" size="40" value="" /></p><p><label for="directions_show"><input type="checkbox" id="directions_show" />'+directions_show_msg+'</label></p></div><div class="col30"><p><label for="stroke_color">'+stroke_color_msg+'</label><input type="text" id="stroke_color" size="10" class="colorpicker" value="'+t+'" /></p><p><label for="stroke_opacity">'+stroke_opacity_msg+'</label><input type="text" id="stroke_opacity" size="10" value="'+o+'" /></p><p><label for="stroke_weight">'+stroke_weight_msg+'</label><input type="text" id="stroke_weight" size="10" value="'+s+'" /></p></div></div><p><input type="button" id="save" value="OK" /></div>';z.setPosition(e),z.setContent(l),z.open(ae);const a=document.getElementById("directions_start");new google.maps.places.Autocomplete(a);const i=document.getElementById("directions_end");new google.maps.places.Autocomplete(i)}function ee(){for(S in $(".map_toolbar button").each(function(){$(this).removeClass("active"),$(this).removeClass("inactive")}),$("#delete_map").trigger("blur"),v)v[S].setMap(null);v.length=0,k.length=0,u.setOptions({}),f.clear(),u.setMap(null),y.setOptions({}),w.clear(),y.setMap(null),h.setOptions({}),h.setMap(null),b.setOptions({}),b.setMap(null),O.setOptions({}),O.setMap(null),x.setOptions({}),x.setMap(null),I.clear(),C.setMap(null),F.setMap(null),$("#element_type").val("notype"),$("#post_excerpt").val("")}$(".map_toolbar button").each(function(){$(this).hasClass("active")||$(this).addClass("inactive")}),$("#entry-form").submit(()=>{const e=$("#element_type").val();""==e&&$("#element_type").val("notype");const t=`${ae.getCenter().lat()},${ae.getCenter().lng()}`,o=ae.getZoom(),s=ae.getMapTypeId();return $("input[name=myGmaps_center]").attr("value",t),$("input[name=myGmaps_zoom]").attr("value",o),$("input[name=myGmaps_type]").attr("value",s),!0})}});