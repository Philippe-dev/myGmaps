$(()=>{if(document.getElementById&&document.getElementById("edit-entry")){function e(e){return e.replace(/^\s+/g,"").replace(/\s+$/g,"")}function t(e){const t=new RegExp("^(http(s)://)[a-zA-Z0-9.-]*[a-zA-Z0-9/_-]","g");return t.test(e)}function o(){k.length=0;const e=f.getLength();for(let t=0;t<e;t++)k.push(`${f.getAt(t).lat()}|${f.getAt(t).lng()}`);R=k.join("\n"),R=`${R}\n${v.strokeWeight}`+"|"+v.strokeOpacity+"|"+v.strokeColor,$("#element_type").val("polyline"),$("#post_excerpt").val(R)}function s(){k.length=0;const e=w.getLength();for(let t=0;t<e;t++)k.push(`${w.getAt(t).lat()}|${w.getAt(t).lng()}`);R=k.join("\n"),R=`${R}\n${y.strokeWeight}`+"|"+y.strokeOpacity+"|"+y.strokeColor+"|"+y.fillColor+"|"+y.fillOpacity,$("#element_type").val("polygon"),$("#post_excerpt").val(R)}function l(){const e=h.getBounds(),t=e.getNorthEast(),o=e.getSouthWest(),s=new google.maps.LatLng(t.lat(),o.lng()),l=new google.maps.LatLng(o.lat(),t.lng());R=`${l.lat()}|${s.lng()}|${s.lat()}|${l.lng()}`,R=`${R}\n${h.strokeWeight}`+"|"+h.strokeOpacity+"|"+h.strokeColor+"|"+h.fillColor+"|"+h.fillOpacity,$("#element_type").val("rectangle"),$("#post_excerpt").val(R)}function a(){const e=b.getCenter(),t=b.getRadius();R=`${e.lat()}|${e.lng()}|${t}`,R=`${R}\n${b.strokeWeight}`+"|"+b.strokeOpacity+"|"+b.strokeColor+"|"+b.fillColor+"|"+b.fillOpacity,$("#element_type").val("circle"),$("#post_excerpt").val(R)}if($(".map_toolbar button").on("click",function(){"delete_map"==$(this).attr("id")?X():""==$("#post_excerpt").val()&&($(".map_toolbar button").each(function(){$(this).removeClass("active")}),$(this).addClass("active"))}),""==$("input[name=myGmaps_center]").val())var i=new google.maps.LatLng(43.0395797336425,6.126280043989323),r="12",n="roadmap";else{var p=$("input[name=myGmaps_center]").val().split(","),c=parseFloat(e(p[0])),g=parseFloat(e(p[1]));i=new google.maps.LatLng(c,g),r=$("input[name=myGmaps_zoom]").val(),n=$("input[name=myGmaps_type]").val()}const ee=[google.maps.MapTypeId.ROADMAP,google.maps.MapTypeId.HYBRID,google.maps.MapTypeId.SATELLITE,google.maps.MapTypeId.TERRAIN,"OpenStreetMap","neutral_blue"],te=$("#map_styles_list").val(),oe=te.split(",");for(B in oe)d=oe[B].replace("_styles.js",""),ee.push(d);const se={zoom:parseFloat(r),center:i,scrollwheel:!1,mapTypeControl:!0,overviewMapControl:!0,streetViewControl:!1,mapTypeControlOptions:{mapTypeIds:ee}},le=new google.maps.Map(document.getElementById("map_canvas"),se),ae='<a href="https://www.openstreetmap.org/copyright">Â© OpenStreetMap Contributors</a>',ie=document.createElement("div");for(B in ie.id="credit-control",ie.index=0,"roadmap"==n?le.setOptions({mapTypeId:google.maps.MapTypeId.ROADMAP}):"satellite"==n?le.setOptions({mapTypeId:google.maps.MapTypeId.SATELLITE}):"hybrid"==n?le.setOptions({mapTypeId:google.maps.MapTypeId.HYBRID}):"terrain"==n?le.setOptions({mapTypeId:google.maps.MapTypeId.TERRAIN}):"OpenStreetMap"==n?(le.setOptions({mapTypeId:"OpenStreetMap"}),le.controls[google.maps.ControlPosition.BOTTOM_RIGHT].push(ie),ie.innerHTML=ae):le.setOptions({mapTypeId:n}),le.mapTypes.set("neutral_blue",neutral_blue),le.mapTypes.set("OpenStreetMap",new google.maps.ImageMapType({getTileUrl:(e,t)=>`https://tile.openstreetmap.org/${t}/${e.x}/${e.y}.png`,tileSize:new google.maps.Size(256,256),name:"OpenStreetMap",maxZoom:18})),ee)if(!(B<6)){var d=window[ee[B]];le.mapTypes.set(ee[B],d)}function m(){const e=document.getElementById("address").value;geocoder.geocode({address:e,partialmatch:!0},_)}function _(e,t){"OK"==t&&e.length>0?le.fitBounds(e[0].geometry.viewport):alert(`Geocode was not successful for the following reason: ${t}`)}geocoder=new google.maps.Geocoder,$("#geocode").on("click",()=>(m(),!1));var v,u=[],k=[];const re={strokeColor:"#555",strokeOpacity:.8,strokeWeight:3,draggable:!0,editable:!0};v=new google.maps.Polyline(re);var y,f=v.getPath();const ne={strokeColor:"#555",strokeOpacity:.8,strokeWeight:3,fillColor:"#ccc",fillOpacity:.35,draggable:!0,editable:!0};y=new google.maps.Polygon(ne);var h,w=y.getPath();const pe={strokeColor:"#555",strokeOpacity:.8,strokeWeight:3,fillColor:"#ccc",fillOpacity:.35,draggable:!0,editable:!0};var b;h=new google.maps.Rectangle(pe);const ce={strokeColor:"#555",strokeOpacity:.8,strokeWeight:3,fillColor:"#ccc",fillOpacity:.35,center:i,draggable:!0,editable:!0,radius:1e3};var O,C;b=new google.maps.Circle(ce),O=new google.maps.KmlLayer({}),C=new google.maps.KmlLayer({});const ge=new google.maps.DirectionsService;var x,L={strokeColor:"#555",strokeOpacity:.8,strokeWeight:3},M={polylineOptions:L},F=new google.maps.DirectionsRenderer(M);const de={strokeColor:"#555",strokeOpacity:0,strokeWeight:20,zIndex:1};x=new google.maps.Polyline(de);var I=x.getPath();const me=document.getElementById("address");new google.maps.places.Autocomplete(me);google.maps.event.addListener(le,"click",e=>{T.close();let t="none";const o=$(".map_toolbar button.active").length>0;$(".map_toolbar button").each(function(){$(this).hasClass("active")?t=$(this).attr("id"):o&&$(this).addClass("inactive")}),"add_marker"==t?""==$("#post_excerpt").val()&&j(e.latLng):"add_polyline"==t?Z(e.latLng):"add_polygon"==t?N(e.latLng):"add_kml"==t?""==$("#post_excerpt").val()&&Q(e.latLng):"add_georss"==t?""==$("#post_excerpt").val()&&q(e.latLng):"add_rectangle"==t?""==$("#post_excerpt").val()&&U(e.latLng):"add_circle"==t?""==$("#post_excerpt").val()&&Y(e.latLng):"add_directions"==t&&""==$("#post_excerpt").val()&&J(e.latLng)}),google.maps.event.addListener(le,"maptypeid_changed",()=>{"OpenStreetMap"==le.getMapTypeId()?(le.controls[google.maps.ControlPosition.BOTTOM_RIGHT].push(ie),ie.innerHTML=ae):le.controls[google.maps.ControlPosition.BOTTOM_RIGHT].clear(ie)}),google.maps.event.addListener(v,"rightclick",e=>{null!=e.vertex&&v.getPath().removeAt(e.vertex)}),google.maps.event.addListener(f,"insert_at",()=>{o()}),google.maps.event.addListener(f,"remove_at",()=>{o()}),google.maps.event.addListener(f,"set_at",()=>{o()}),google.maps.event.addListener(v,"click",function(e){const t='<div id="infowindow_polyline" class="col"><p><label for="stroke_color">'+stroke_color_msg+'</label><input type="text" id="stroke_color" size="10" class="colorpicker" value="'+this.strokeColor+'" /></p><p><label for="stroke_opacity">'+stroke_opacity_msg+'</label><input type="text" id="stroke_opacity" size="10" value="'+this.strokeOpacity+'" /></p><p><label for="stroke_weight">'+stroke_weight_msg+'</label><input type="text" id="stroke_weight" size="10" value="'+this.strokeWeight+'" /></p><p><input type="button" id="save" value="OK" /></p></div>';T.setPosition(e.latLng),T.setContent(t),T.open(le)}),google.maps.event.addListener(y,"rightclick",e=>{null!=e.vertex&&y.getPath().removeAt(e.vertex)}),google.maps.event.addListener(w,"insert_at",()=>{s()}),google.maps.event.addListener(w,"remove_at",()=>{s()}),google.maps.event.addListener(w,"set_at",()=>{s()}),google.maps.event.addListener(y,"click",function(e){const t='<div id="infowindow_polygon"><div class="two-boxes"<p><label for="stroke_color">'+stroke_color_msg+'</label><input type="text" id="stroke_color" size="10" class="colorpicker" value="'+this.strokeColor+'" /></p><p><label for="stroke_opacity">'+stroke_opacity_msg+'</label><input type="text" id="stroke_opacity" size="10" value="'+this.strokeOpacity+'" /></p><p><label for="stroke_weight">'+stroke_weight_msg+'</label><input type="text" id="stroke_weight" size="10" value="'+this.strokeWeight+'" /></p></div><div class="two-boxes"<p><label for="fill_color">'+fill_color_msg+'</label><input type="text" id="fill_color" size="10" value="'+this.fillColor+'" /></p><p><label for="fill_opacity">'+fill_opacity_msg+'</label><input type="text" id="fill_opacity" size="10" value="'+this.fillOpacity+'" /></p></div><p><input type="button" id="save" value="OK" /></p></div>';T.setPosition(e.latLng),T.setContent(t),T.open(le)}),google.maps.event.addListener(h,"bounds_changed",e=>{l()}),google.maps.event.addListener(h,"dragend",e=>{l()}),google.maps.event.addListener(h,"click",function(e){const t='<div id="infowindow_rectangle"><div class="two-boxes"<p><label for="stroke_color">'+stroke_color_msg+'</label><input type="text" id="stroke_color" size="10" class="colorpicker" value="'+this.strokeColor+'" /></p><p><label for="stroke_opacity">'+stroke_opacity_msg+'</label><input type="text" id="stroke_opacity" size="10" value="'+this.strokeOpacity+'" /></p><p><label for="stroke_weight">'+stroke_weight_msg+'</label><input type="text" id="stroke_weight" size="10" value="'+this.strokeWeight+'" /></p></div><div class="two-boxes"<p><label for="fill_color">'+fill_color_msg+'</label><input type="text" id="fill_color" size="10" value="'+this.fillColor+'" /></p><p><label for="fill_opacity">'+fill_opacity_msg+'</label><input type="text" id="fill_opacity" size="10" value="'+this.fillOpacity+'" /></p></div><p><input type="button" id="save" value="OK" /></p></div>';T.setPosition(e.latLng),T.setContent(t),T.open(le)}),google.maps.event.addListener(b,"center_changed",e=>{a()}),google.maps.event.addListener(b,"radius_changed",e=>{a()}),google.maps.event.addListener(b,"click",function(e){const t='<div id="infowindow_circle"><div class="two-boxes"<p><label for="stroke_color">'+stroke_color_msg+'</label><input type="text" id="stroke_color" size="10" class="colorpicker" value="'+this.strokeColor+'" /></p><p><label for="stroke_opacity">'+stroke_opacity_msg+'</label><input type="text" id="stroke_opacity" size="10" value="'+this.strokeOpacity+'" /></p><p><label for="stroke_weight">'+stroke_weight_msg+'</label><input type="text" id="stroke_weight" size="10" value="'+this.strokeWeight+'" /></p></div><div class="two-boxes"<p><label for="fill_color">'+fill_color_msg+'</label><input type="text" id="fill_color" size="10" value="'+this.fillColor+'" /></p><p><label for="fill_opacity">'+fill_opacity_msg+'</label><input type="text" id="fill_opacity" size="10" value="'+this.fillOpacity+'" /></p><p><label for="circle_radius">'+circle_radius_msg+'</label><input type="text" id="circle_radius" size="10" value="'+this.radius+'" /></p></div><p><input type="button" id="save" value="OK" /></p></div>';T.setPosition(e.latLng),T.setContent(t),T.open(le)}),google.maps.event.addListener(O,"click",e=>{const t=[];if(""!=$("#kmls_list").val()){$("#kmls_base_url").val();const e=$("#kmls_list").val(),o=e.split(",");for(B in o)this_kml=`<li>${o[B]}</li>`,t.push(this_kml)}let o=t.join();if(o=`<ul>${o.replace(/\,/g,"")}</ul>`,""!=t)var s=`<h4>${custom_kmls_msg}</h4>`+'<div style="max-height: 100px;overflow: auto">'+o+"</div><hr />";else s="";const l='<div id="infowindow_kml" style="cursor: pointer">'+s+"<h4>"+kml_url_msg+'</h4><p><input type="text" id="kml_url" size="80" value="'+$("#post_excerpt").val()+'" /></p><p><input type="button" id="save" value="OK" /></p></div>';T.setPosition(e.latLng),T.setContent(l),T.open(le)}),google.maps.event.addListener(C,"click",e=>{const t='<div id="infowindow_georss" style="cursor: pointer"><h4>'+geoRss_url_msg+'</h4><p><input type="text" id="geoRss_url" size="80" value="'+$("#post_excerpt").val()+'" /></p><p><input type="button" id="save" value="OK" /></p></div>';T.setPosition(e.latLng),T.setContent(t),T.open(le)}),google.maps.event.addListener(x,"click",e=>{const t=R.split("|"),o=t[0],s=t[1],l=t[2],a=t[3],i=t[4],r=t[5];if("true"==r)var n='checked = "checked"';else n="";const p='<div id="infowindow_directions" style="cursor: pointer"><div class="two-cols clearfix"><div class="col70"><p><label for="directions_start">'+directions_start_msg+'</label><input type="text" id="directions_start" size="40" value="'+o+'" /></p><p><label for="directions_end">'+directions_end_msg+'</label><input type="text" id="directions_end" size="40" value="'+s+'" /></p><p><label for="directions_show"><input type="checkbox" id="directions_show" '+n+" />"+directions_show_msg+'</label></p></div><div class="col30"><p><label for="stroke_color">'+stroke_color_msg+'</label><input type="text" id="stroke_color" size="10" class="colorpicker" value="'+i+'" /><p><label for="stroke_opacity">'+stroke_opacity_msg+'</label><input type="text" id="stroke_opacity" size="10" value="'+a+'" /><p><label for="stroke_weight">'+stroke_weight_msg+'</label><input type="text" id="stroke_weight" size="10" value="'+l+'" /></div></div><p><input type="button" id="save" value="OK" /></div>';T.setPosition(e.latLng),T.setContent(p),T.open(le);const c=document.getElementById("directions_start");new google.maps.places.Autocomplete(c);const g=document.getElementById("directions_end");new google.maps.places.Autocomplete(g)});var T=new google.maps.InfoWindow({});const _e=[];if(""!=$("#icons_list").val()){const e=$("#icons_base_url").val(),t=$("#icons_list").val(),o=t.split(",");for(B in o){const t=`<img src="${e}${o[B]}" alt="${o[B]}" />`;_e.push(t)}}let ve=_e.join();ve=ve.replace(/\,/g,"");var z=$("#plugin_QmarkURL").val();if(""!=ve)var W=`<h4>${custom_icons_msg}</h4>`+'<div id="custom_icons_list">'+ve+"</div><hr />";else W="";var P='<div id="infowindow_icons" style="cursor: pointer">'+W+'<div id="default_icons_list"><h4>'+default_icons_msg+'</h4><img src="'+z+'pf=myGmaps/icons/marker-blue.png" alt="marker-blue.png"  /><img src="'+z+'pf=myGmaps/icons/marker-green.png" alt="marker-green.png"  /><img src="'+z+'pf=myGmaps/icons/marker-grey.png" alt="marker-grey.png"  /><img src="'+z+'pf=myGmaps/icons/marker-orange.png" alt="marker-orange.png"  /><img src="'+z+'pf=myGmaps/icons/marker-purple.png" alt="marker-purple.png"  /><img src="'+z+'pf=myGmaps/icons/marker-yellow.png" alt="marker-yellow.png"  /><img src="'+z+'pf=myGmaps/icons/marker.png" alt="marker.png"  />&nbsp;</div></div>';$(document).on("click","#infowindow_icons img",function(){let e=$("#post_excerpt").val();const t=e.split("|");parseFloat(t[0]),parseFloat(t[1]);marker.setIcon($(this).attr("src"));const o=$(this).attr("src");e=`${marker.position.lat()}|${marker.position.lng()}|${o}`,$("#post_excerpt").val(e),T.close()}),$(document).on("click","#infowindow_polyline #save",()=>{const e=$("#stroke_color").val(),t=$("#stroke_opacity").val(),s=$("#stroke_weight").val();v.setOptions({strokeColor:e,strokeOpacity:parseFloat(t),strokeWeight:parseFloat(s)}),o(),T.close()}),$(document).on("click","#infowindow_polygon #save",()=>{const e=$("#stroke_color").val(),t=$("#stroke_opacity").val(),o=$("#stroke_weight").val(),l=$("#fill_color").val(),a=$("#fill_opacity").val();y.setOptions({strokeColor:e,strokeOpacity:parseFloat(t),strokeWeight:parseFloat(o),fillColor:l,fillOpacity:parseFloat(a)}),s(),T.close()}),$(document).on("click","#infowindow_rectangle #save",()=>{const e=$("#stroke_weight").val(),t=$("#stroke_opacity").val(),o=$("#stroke_color").val(),s=$("#fill_color").val(),a=$("#fill_opacity").val();h.setOptions({strokeColor:o,strokeOpacity:parseFloat(t),strokeWeight:parseFloat(e),fillColor:s,fillOpacity:parseFloat(a)}),l(),T.close()}),$(document).on("click","#infowindow_circle #save",()=>{const e=$("#stroke_weight").val(),t=$("#stroke_opacity").val(),o=$("#stroke_color").val(),s=$("#fill_color").val(),l=$("#fill_opacity").val(),i=$("#circle_radius").val();b.setOptions({strokeColor:o,strokeOpacity:parseFloat(t),strokeWeight:parseFloat(e),fillColor:s,fillOpacity:parseFloat(l),radius:parseFloat(i)}),a(),T.close()}),$(document).on("click","#infowindow_kml li",function(){const e=$("#kmls_base_url").val()+$(this).text();$("#kml_url").val(e).focus()}),$(document).on("click","#infowindow_kml #save",()=>{O.setMap(null);const e=$("#kml_url").val();null!=e&&""!=e&&t(e)&&(O.setOptions({url:e,preserveViewport:!0,suppressInfoWindows:!0}),$("#element_type").val("included kml file"),$("#post_excerpt").val(e)),O.setMap(le),T.close()}),$(document).on("click","#infowindow_georss #save",()=>{C.setMap(null);const e=$("#geoRss_url").val();null!=e&&""!=e&&t(e)&&(C.setOptions({url:e,preserveViewport:!0,suppressInfoWindows:!0}),$("#element_type").val("GeoRSS feed"),$("#post_excerpt").val(e)),C.setMap(le),T.close()}),$(document).on("click","#infowindow_directions #save",()=>{const e=$("#directions_start").val(),t=$("#directions_end").val(),o=$("#directions_show").prop("checked"),s=$("#stroke_color").val(),l=$("#stroke_opacity").val(),a=$("#stroke_weight").val(),i={strokeColor:s,strokeOpacity:l,strokeWeight:a},r={polylineOptions:i},n={origin:e,destination:t,travelMode:google.maps.TravelMode.DRIVING};ge.route(n,(e,t)=>{if(t==google.maps.DirectionsStatus.OK){const t=e.routes[0].overview_path;x.setPath(t),F.setOptions({options:r}),F.setDirections(e),F.setMap(le)}}),R=`${e}|${t}|${a}`+"|"+l+"|"+s+"|"+o,$("#element_type").val("directions"),$("#post_excerpt").val(R),F.setMap(le),x.setMap(le),T.close()});var R=$("#post_excerpt").val();const ue=$("input[name=element_type]").val();if("point of interest"==ue){p=R.split("|"),c=parseFloat(p[0]),g=parseFloat(p[1]);const e=p[2];var G=new google.maps.LatLng(c,g);marker=new google.maps.Marker({position:G,draggable:!0,icon:e,map:le}),u.push(marker),$("#add_marker").addClass("active"),T.setContent(P),google.maps.event.addListener(marker,"click",function(){T.open(le,this)}),google.maps.event.addListener(marker,"dragend",()=>{R=`${marker.position.lat()}|${marker.position.lng()}|${e}`,$("#post_excerpt").val(R)})}else if("polyline"==ue){for(var A=R.split("\n"),B=0;B<A.length-1;B++){p=A[B].split("|"),c=parseFloat(p[0]),g=parseFloat(p[1]),G=new google.maps.LatLng(c,g);f.push(G)}const e=A.pop();p=e.split("|");var S=parseFloat(p[0]),E=parseFloat(p[1]),K=p[2];v.setOptions({strokeColor:K,strokeOpacity:parseFloat(E),strokeWeight:parseFloat(S)}),f=v.getPath(),v.setMap(le),$("#add_polyline").addClass("active")}else if("polygon"==ue){for(A=R.split("\n"),B=0;B<A.length-1;B++){p=A[B].split("|"),c=parseFloat(p[0]),g=parseFloat(p[1]),G=new google.maps.LatLng(c,g);w.push(G)}const e=A.pop();p=e.split("|"),S=parseFloat(p[0]),E=parseFloat(p[1]),K=p[2];var D=p[3],H=parseFloat(p[4]);y.setOptions({strokeColor:K,strokeOpacity:parseFloat(E),strokeWeight:parseFloat(S),fillColor:D,fillOpacity:parseFloat(H)}),w=y.getPath(),y.setMap(le),$("#add_polygon").addClass("active")}else if("rectangle"==ue){A=R.split("\n"),p=A[0].split("|");const e=parseFloat(p[0]),t=parseFloat(p[1]),o=parseFloat(p[2]),s=parseFloat(p[3]);bounds=new google.maps.LatLngBounds(new google.maps.LatLng(e,t),new google.maps.LatLng(o,s)),h.setBounds(bounds);var V=A[1].split("|");S=parseFloat(V[0]),E=parseFloat(V[1]),K=V[2],D=V[3],H=parseFloat(V[4]);h.setOptions({strokeColor:K,strokeOpacity:parseFloat(E),strokeWeight:parseFloat(S),fillColor:D,fillOpacity:parseFloat(H)}),$("#add_rectangle").addClass("active"),h.setMap(le)}else if("circle"==ue){A=R.split("\n"),p=A[0].split("|"),c=parseFloat(p[0]),g=parseFloat(p[1]);const e=parseFloat(p[2]);G=new google.maps.LatLng(c,g),V=A[1].split("|"),S=parseFloat(V[0]),E=parseFloat(V[1]),K=V[2],D=V[3],H=parseFloat(V[4]);b.setOptions({strokeColor:K,strokeOpacity:parseFloat(E),strokeWeight:parseFloat(S),fillColor:D,fillOpacity:parseFloat(H),center:G,radius:parseFloat(e)}),$("#add_circle").addClass("active"),b.setMap(le)}else if("included kml file"==ue)O.setOptions({url:R,preserveViewport:!0,suppressInfoWindows:!0}),$("#add_kml").addClass("active"),O.setMap(le);else if("GeoRSS feed"==ue)C.setOptions({url:R,preserveViewport:!0,suppressInfoWindows:!0}),$("#add_georss").addClass("active"),C.setMap(le);else if("directions"==ue){p=R.split("|");const e=p[0],t=p[1];S=p[2],E=p[3],K=p[4],L={strokeColor:K,strokeOpacity:E,strokeWeight:S},M={polylineOptions:L};const o={origin:e,destination:t,travelMode:google.maps.TravelMode.DRIVING};ge.route(o,(e,t)=>{if(t==google.maps.DirectionsStatus.OK){const t=e.routes[0].overview_path;x.setPath(t),F.setOptions({options:M}),F.setDirections(e),F.setMap(le)}}),$("#add_directions").addClass("active"),x.setMap(le)}function j(e){marker=new google.maps.Marker({position:e,icon:`${z}pf=myGmaps/icons/marker.png`,draggable:!0,map:le}),u.push(marker),T.setContent(P),google.maps.event.addListener(marker,"click",function(){T.open(le,this)}),google.maps.event.addListener(marker,"dragend",()=>{R=`${marker.position.lat()}|${marker.position.lng()}|${marker.icon}`,$("#post_excerpt").val(R)}),R=`${marker.position.lat()}|${marker.position.lng()}|${marker.icon}`,$("#element_type").val("point of interest"),$("#post_excerpt").val(R)}function Z(e){f.push(e),v.setMap(le),o()}function N(e){w.push(e),y.setMap(le),s()}function U(e){const t=2**le.getZoom();h.setBounds(new google.maps.LatLngBounds(new google.maps.LatLng((e.lat()*t-50)/t,(e.lng()*t-75)/t),new google.maps.LatLng((e.lat()*t+50)/t,(e.lng()*t+75)/t))),h.setMap(le),l()}function Y(e){const t=2**(10*Math.PI-le.getZoom()),o=t/500;b.setOptions({radius:o,center:e}),b.setMap(le),a()}function Q(e){const t=[];if(""!=$("#kmls_list").val()){$("#kmls_base_url").val();const e=$("#kmls_list").val(),o=e.split(",");for(B in o)this_kml=`<li>${o[B]}</li>`,t.push(this_kml)}let o=t.join();if(o=`<ul>${o.replace(/\,/g,"")}</ul>`,""!=t)var s=`<h4>${custom_kmls_msg}</h4>`+'<div style="max-height: 100px;overflow: auto">'+o+"</div><hr />";else s="";const l='<div id="infowindow_kml" style="cursor: pointer">'+s+"<h4>"+kml_url_msg+'</h4><p><input type="text" id="kml_url" size="80" value="'+$("#post_excerpt").val()+'" /></p><p><input type="button" id="save" value="OK" /></p></div>';T.setPosition(e),T.setContent(l),T.open(le)}function q(e){const t='<div id="infowindow_georss" style="cursor: pointer"><h4>'+geoRss_url_msg+'</h4><p><input type="text" id="geoRss_url" size="80" value="'+$("#post_excerpt").val()+'" /></p><p><input type="button" id="save" value="OK" /></p></div>';T.setPosition(e),T.setContent(t),T.open(le)}function J(e){const t="#555",o=.8,s=3,l='<div id="infowindow_directions" style="cursor: pointer"><div class="two-cols clearfix"><div class="col70"><p><label for="directions_start">'+directions_start_msg+'</label><input type="text" id="directions_start" size="40" value="" /></p><p><label for="directions_end">'+directions_end_msg+'</label><input type="text" id="directions_end" size="40" value="" /></p><p><label for="directions_show"><input type="checkbox" id="directions_show" />'+directions_show_msg+'</label></p></div><div class="col30"><p><label for="stroke_color">'+stroke_color_msg+'</label><input type="text" id="stroke_color" size="10" class="colorpicker" value="'+t+'" /></p><p><label for="stroke_opacity">'+stroke_opacity_msg+'</label><input type="text" id="stroke_opacity" size="10" value="'+o+'" /></p><p><label for="stroke_weight">'+stroke_weight_msg+'</label><input type="text" id="stroke_weight" size="10" value="'+s+'" /></p></div></div><p><input type="button" id="save" value="OK" /></div>';T.setPosition(e),T.setContent(l),T.open(le);const a=document.getElementById("directions_start");new google.maps.places.Autocomplete(a);const i=document.getElementById("directions_end");new google.maps.places.Autocomplete(i)}function X(){for(B in $(".map_toolbar button").each(function(){$(this).removeClass("active"),$(this).removeClass("inactive")}),$("#delete_map").blur(),u)u[B].setMap(null);u.length=0,k.length=0,v.setOptions({strokeColor:"#555",strokeOpacity:.8,strokeWeight:3}),f.clear(),v.setMap(null),y.setOptions({strokeColor:"#555",strokeOpacity:.8,strokeWeight:3,fillColor:"#ccc",fillOpacity:.35}),w.clear(),y.setMap(null),h.setOptions({strokeColor:"#555",strokeOpacity:.8,strokeWeight:3,fillColor:"#ccc",fillOpacity:.35,radius:100}),h.setMap(null),b.setOptions({strokeColor:"#555",strokeOpacity:.8,strokeWeight:3,fillColor:"#ccc",fillOpacity:.35,radius:100}),b.setMap(null),O.setOptions({}),O.setMap(null),C.setOptions({}),C.setMap(null),I.clear(),x.setMap(null),F.setMap(null),$("#element_type").val("none"),$("#post_excerpt").val("")}$(".map_toolbar button").each(function(){$(this).hasClass("active")||$(this).addClass("inactive")}),$("#entry-form").submit(()=>{const e=$("#element_type").val();""==e&&$("#element_type").val("none");const t=`${le.getCenter().lat()},${le.getCenter().lng()}`,o=le.getZoom(),s=le.getMapTypeId();return $("input[name=myGmaps_center]").attr("value",t),$("input[name=myGmaps_zoom]").attr("value",o),$("input[name=myGmaps_type]").attr("value",s),!0})}});